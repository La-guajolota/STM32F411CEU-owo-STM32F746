/* USER CODE BEGIN Header */
/**
  ******************************************************************************
  * @file           : main.c
  * @brief          : Main program body
  ******************************************************************************
  * @attention
  *
  * Copyright (c) 2024 STMicroelectronics.
  * All rights reserved.
  *
  * This software is licensed under terms that can be found in the LICENSE file
  * in the root directory of this software component.
  * If no LICENSE file comes with this software, it is provided AS-IS.
  *
  ******************************************************************************
  */
/* USER CODE END Header */
/* Includes ------------------------------------------------------------------*/
#include "main.h"

/* Private includes ----------------------------------------------------------*/
/* USER CODE BEGIN Includes */
#include "edge-impulse-sdk/classifier/ei_run_classifier.h"

using namespace ei;

// paste the raw features here
static const float features[] = {
		0, 3075, 0, 1997, 988, 4103, 0, 2364, 2767, 488, 3673, 139, 2641, 1972, 5030, 95, 5342, 630, 2128, 6174, 1077, 6556, 3237, 4236, 2555, 4718, 5710, 1404, 7707, 1932, 3431, 6798, 3068, 7167, 4586, 3586, 3424, 8950, 9467, 4313, 6000, 4797, 7715, 4598, 4242, 8160, 4661, 7140, 8739, 6326, 5536, 6878, 6592, 7468, 11549, 6267, 8402, 12169, 7426, 11187, 7635, 8606, 12198, 7989, 9103, 9794, 11412, 12780, 10748, 9445, 14989, 10966, 9112, 10974, 14484, 12444, 10706, 15218, 10481, 10432, 12246, 16638, 16201, 14325, 11801, 13801, 11364, 15352, 12839, 12505, 14942, 18172, 16903, 17516, 14348, 19243, 15517, 17495, 15977, 19896, 15299, 16958, 19378, 14869, 19527, 18272, 19600, 15921, 18876, 16817, 21494, 20605, 16659, 16974, 16773, 21139, 19108, 17488, 22807, 21839, 18732, 18574, 22213, 22053, 19514, 20007, 19428, 21817, 21259, 23595, 25026, 24636, 25206, 22451, 24135, 23060, 21811, 20081, 24644, 25343, 26909, 26208, 21250, 26065, 21783, 22565, 24805, 27026, 27369, 23067, 27776, 24805, 26732, 24579, 26723, 24159, 23608, 23977, 25040, 26779, 26817, 29148, 29741, 30537, 29054, 27045, 25267, 26354, 27925, 27718, 27176, 30813, 26924, 29603, 31905, 27303, 31250, 28092, 33330, 28143, 30511, 29328, 32833, 32069, 29030, 28008, 29651, 31560, 31987, 33889, 29981, 33086, 31455, 31183, 34294, 33925, 30585, 36392, 35416, 31533, 33265, 32619, 35005, 33771, 36738, 35937, 31623, 37703, 32051, 34223, 32437, 37896, 34222, 37747, 35716, 39014, 35872, 36247, 40038, 38274, 37664, 36248, 38919, 38319, 41083, 36821, 40770, 41417, 40530, 36912, 39510, 37183, 36374, 36650, 36511, 36948, 40279, 37281, 39397, 39054, 43748, 43159, 38185, 41898, 42337, 39040, 40207, 39980, 43577, 41527, 42531, 40086, 44265, 39923, 40321, 46101, 43211, 44615, 45161, 40516, 45513, 41429, 45728, 46287, 45432, 46201, 48032, 44864, 46491, 42832, 46543, 45745, 48599, 43932, 46015, 48431, 47253, 46311, 50125, 47250, 46866, 48309, 49962, 44854, 49735, 50862, 48937, 47817, 48233, 49785, 50788, 48654, 52231, 50012, 52020, 48851, 47520, 48699, 50386, 52006, 51573, 53529, 49327, 51305, 49846, 49123, 53699, 52147, 50427, 51199, 55544, 55362, 51626, 54627, 55176, 54948, 51753, 56137, 53712, 56169, 56042, 54376, 53198, 56626, 56001, 51950, 55703, 55620, 56991, 56239, 53164, 57576, 56649, 53868, 55502, 53779, 55168, 57817, 54011, 56530, 58406, 59466, 54622, 57612, 60000, 55088, 58526, 59284, 60283, 59511, 61458, 61033, 58677, 57064, 57718, 56741, 58892, 62633, 63059, 60892, 62108, 61410, 63506, 62286, 63122, 64173, 63648, 65231, 61659, 62875, 64941, 62246, 60703, 65535, 64896, 61197, 60765, 62318, 62274, 65535, 63216, 62269, 64958, 63158, 65535, 64150, 65535, 65535, 65535, 65535, 63687, 65535, 65535, 65535, 65535, 61161, 65535, 64484, 61345, 63775, 60425, 62519, 61835, 63726, 63688, 60598, 62511, 62269, 59541, 59857, 60168, 58391, 63467, 63717, 62377, 62292, 58438, 59777, 61989, 57246, 57175, 61158, 58685, 58837, 58217, 60590, 57884, 55959, 58572, 57368, 57081, 57789, 57578, 56856, 59753, 57978, 55104, 57206, 55087, 58803, 58805, 53886, 54777, 57171, 55860, 57599, 52526, 57687, 52623, 54854, 52793, 52024, 51475, 52116, 53575, 55362, 54044, 56111, 54345, 50333, 54323, 50355, 53478, 54682, 52149, 51841, 51018, 48914, 48805, 51451, 49224, 53117, 49758, 50694, 48510, 47782, 48113, 48703, 50731, 50954, 50244, 46718, 49179, 47538, 49436, 52212, 49817, 46090, 51539, 50147, 45172, 46138, 47365, 45948, 47663, 45760, 49058, 45078, 47143, 49775, 45591, 45676, 45001, 45167, 45333, 47732, 47125, 46787, 43229, 46395, 44306, 43539, 45659, 41413, 46562, 45215, 46578, 42971, 45362, 46429, 41331, 42891, 43026, 42377, 40601, 43928, 42053, 39794, 39480, 39375, 44173, 39974, 41943, 38916, 39367, 39368, 42117, 40958, 40764, 37696, 36593, 42044, 38868, 39722, 42215, 38272, 39803, 36276, 37063, 39266, 37752, 38773, 37376, 35706, 34273, 36029, 36125, 38563, 39158, 37525, 35069, 36528, 33280, 37558, 33652, 33286, 33989, 35948, 32249, 35188, 37498, 35793, 34675, 36119, 34929, 32357, 36673, 34934, 33147, 31838, 31748, 29881, 29480, 33975, 33339, 34315, 34441, 32979, 31677, 28941, 34370, 31665, 32171, 29770, 28550, 31153, 32189, 32826, 29492, 31893, 32874, 27638, 27894, 28857, 32072, 30605, 30402, 30716, 30295, 24942, 30959, 26022, 27120, 29818, 29809, 26701, 26976, 23747, 28841, 27373, 24479, 27255, 28384, 23809, 23108, 25335, 25425, 25889, 26833, 26832, 22040, 22928, 21377, 22905, 23788, 20791, 26289, 25922, 21764, 21929, 23035, 19607, 22238, 24667, 22966, 21586, 20283, 22766, 23504, 22195, 22629, 21273, 21290, 22761, 18423, 20971, 21799, 20037, 19603, 21260, 22792, 16725, 20032, 18222, 21595, 19453, 19641, 17291, 21314, 17017, 20345, 20390, 16508, 14655, 15465, 14560, 16186, 14670, 16194, 16041, 13097, 13544, 14609, 14659, 18146, 17211, 17043, 14373, 16849, 15433, 16497, 15979, 14636, 16679, 13889, 12588, 15916, 10459, 16044, 11337, 15317, 14246, 10697, 9691, 9416, 14208, 9860, 14243, 13707, 12850, 8163, 13384, 13990, 12813, 12423, 9994, 13157, 8554, 10660, 10388, 7250, 11656, 10246, 6722, 7270, 11664, 11287, 10108, 5424, 7259, 8326, 4917, 5232, 5876, 10115, 8824, 7119, 7629, 7387, 8275, 3937, 2683, 4848, 2385, 4405, 8445, 2850, 6751, 1961, 3018, 4106, 3505, 5726, 4887, 2847, 5747, 734, 1966, 97, 2083, 2081, 5737, 5235, 0, 2446, 1915, 2191, 2856, 2299, 1489, 2039, 0, 251, 1918, 0, 0, 1707, 972, 3543, 512, 0, 0, 0, 2119, 1556, 0, 2027, 0, 4952, 2835, 0, 5614, 5447, 893, 3109, 2308, 5143, 5523, 5534, 7083, 3947, 3875, 4823, 1462, 7323, 2391, 5897, 4317, 8272, 6920, 4540, 5072, 6514, 7718, 7424, 4864, 9911, 3775, 9355, 4235, 10434, 6053, 7531, 8119, 7403, 8261, 8629, 9194, 10593, 8835, 8883, 12148, 7353, 8505, 7676, 10884, 8285, 12790, 9659, 12332, 12640, 9341, 9697, 13052, 13024, 13129, 8621, 12362, 14044, 14520, 11854, 10303, 16052, 15529, 15249, 13574, 11019, 12728, 13589, 15269, 15675, 15973, 13970, 17924, 13976, 12813, 15529, 16657, 18458, 16726, 14348, 18100, 14246, 19673, 16623, 16363, 20161, 17983, 15106, 16196, 16439, 15996, 20307, 17195, 16745, 19974, 18912, 16846, 21515, 17232, 16868, 16759, 17285, 22007, 22842, 20668, 18833, 22129, 17521, 22849, 20222, 19820, 18103, 24575, 19019, 24888, 22490, 22090, 20225, 23753, 22581, 20717, 25832, 24841, 22696, 26636, 22286, 26302, 26790, 22708, 26415, 23814, 23972, 26998, 21981, 22530, 27286, 28147, 27290, 28878, 27599, 23393, 23831, 25002, 25375, 29430, 29074, 25698, 26983, 26353, 25172, 30146, 25853, 27558, 28902, 25429, 31142, 31693, 28805, 30243, 27697, 27960, 31092, 26906, 27315, 28753, 29687, 31928, 33728, 30750, 34196, 28675, 28325, 29657, 30248, 29033, 34634, 31087, 29281, 34055, 29785, 33765, 35433, 34694, 32873, 30992, 35754, 33824, 35541, 34019, 37257, 33568, 32659, 34903, 32927, 35399, 35684, 35744, 38844, 34803, 33785, 37020, 37196, 33769, 38625, 35103, 38347, 35055, 37861, 37814, 39856, 35499, 36908, 40818, 41426, 36598, 39340, 36310, 39776, 40746, 37626, 40185, 39370, 41496, 43497, 39055, 43266, 39932, 38598, 40681, 38077, 44230, 38850, 38815, 40390, 40931, 41912, 40942, 41982, 43663, 46092, 40793, 42895, 46223, 45700, 42873, 47096, 44077, 47411, 46443, 43612, 46113, 43253, 46913, 42432, 48236, 46517, 45858, 46061, 46035, 47517, 46007, 46076, 48995, 48555, 45364, 46251, 48537, 44462, 47789, 49006, 49611, 45475, 48464, 46567, 52049, 47435, 50454, 51037, 47695, 52385, 49224, 51100, 49233, 53197, 48831, 52677, 48361, 50898, 48064, 48826, 52237, 49601, 54469, 51973, 51326, 50431, 49361, 55129, 51596, 54998, 54739, 56317, 55793, 54109, 56677, 52839, 56851, 54898, 56853, 55963, 52004, 54003, 55125, 55685, 52476, 54251, 53867, 57795, 54281, 57340, 54411, 55198, 57163, 56986, 58993, 55890, 58259, 58999, 58388, 59493, 57400, 56083, 58042, 61772, 58348, 61853, 56557, 57035, 62762, 58372, 58110, 60206, 60019, 63364, 61867, 60329, 64153, 64190, 61690, 58582, 60446, 60215, 63315, 59599, 59909, 63862, 61618, 64480, 60892, 65182, 63378, 61752, 63366, 62148, 61553, 64368, 64940, 65219, 63408, 63418, 65535, 62987, 65535, 65535, 65535, 63524, 65535, 61565, 65113, 64086, 65535, 62298, 61355, 64060, 62733, 60937, 65173, 63009, 62005, 63100, 63697, 61130, 60440, 60899, 59355, 64936, 60450, 64674, 63440, 59616, 63883, 64019, 59740, 60865, 57057, 60127, 60595, 61245, 58440, 59805, 58374, 61810, 61419, 57278, 58798, 56199, 57100, 55769, 61050, 58228, 60024, 58415, 55102, 59986, 54042, 56042, 59249, 58552, 57908, 58692, 58638, 53691, 57402, 53967, 56588, 54893, 52181, 54634, 53842, 52290, 52622, 56135, 51410, 53390, 55054, 54747, 56364, 54874, 53338, 50674, 55076, 54097, 49431, 52823, 53962, 50804, 49394, 52537, 54286, 51983, 52567, 50486, 49131, 48764, 52144, 51797, 52796, 51749, 48264, 49477, 47308, 47555, 45741, 50914, 49572, 50436, 45417, 47216, 47810, 49963, 49825, 49611, 49089, 47539, 46483, 46375, 44361, 44158, 44670, 47390, 48732, 46085, 42158, 45435, 45158, 44354, 43464, 47774, 46930, 47003, 43050, 42374, 46039, 45467, 44523, 41877, 41102, 43673, 41831, 41954, 42032, 42358, 44114, 42006, 44752, 39942, 41428, 41193, 38023, 42117, 40766, 40889, 41925, 40375, 42266, 40231, 42194, 36608, 37323, 40442, 39733, 38239, 39241, 41181, 35271, 38283, 40322, 38261, 35835, 37441, 35375, 40265, 37459, 39279, 33746, 35774, 33134, 33858, 35548, 38454, 37247, 32725, 36237, 34934, 34851, 35951, 35520, 32258, 35314, 33595, 36488, 34862, 33075, 30185, 30460, 33523, 34201, 35557, 35702, 35355, 33490, 31506, 32109, 34909, 32303, 33770, 29953, 31772, 33174, 28823, 31940, 31240, 32903, 27593, 28773, 32379, 26688, 26731, 30261, 27768, 31089, 28138, 26510, 27800, 26428, 30287, 26837, 30737, 25378, 30344, 26662, 26491, 27975, 29628, 29095, 29219, 24660, 26276, 27393, 24057, 25741, 25128, 23661, 25733, 23515, 26234, 25088, 22966, 22288, 24860, 26599, 20772, 22472, 20990, 25962, 24367, 21881, 19758, 19950, 24696, 19350, 20572, 24153, 22674, 21666, 23349, 18626, 20947, 22886, 23776, 23577, 23390, 18320, 18097, 19135, 17055, 22637, 19023, 18454, 17075, 17833, 15704, 19929, 20967, 15293, 19177, 20536, 19114, 15287, 19033, 16148, 19862, 19866, 18343, 18658, 19137, 17246, 13437, 18798, 15033, 15050, 14682, 14914, 11841, 14303, 13318, 14406, 11966, 17212, 11318, 12425, 10265, 13415, 13662, 10744, 14846, 9462, 9717, 13337, 14542, 12379, 11830, 11763, 13511, 11859, 14325, 8855, 13291, 9763, 13382, 7822, 6828, 7192, 12682, 6515, 7102, 8536, 10208, 6761, 11558, 11143, 8346, 9970, 7349, 10883, 8032, 5384, 7369, 6547, 6631, 6622, 7505, 5828, 9186, 6434, 4628, 5765, 3776, 7402, 8375, 1939, 8249, 5492, 2627, 3129, 6913, 5270, 4562, 6590, 4399, 3551, 363, 1515, 4559, 0, 180, 4585, 2900, 181, 5252, 2194, 3573, 0, 2518, 634, 0, 2014, 0, 2923, 2102, 0, 599, 370, 0, 30, 0, 1449, 3472, 1888, 0, 3945, 0, 91, 0, 181, 5332, 2414, 3949, 3809, 5261, 3486, 6055, 3601, 2182, 1682, 2398, 4346, 4604, 5938, 2279, 2992, 3874, 7526, 7806, 5718, 8641, 5054, 4510, 4535, 9653, 9688, 8378, 8132, 5055, 6599, 10531, 5736, 4843, 5972, 7372, 6604, 7009, 7726, 8795, 9389, 9548, 7569, 10041, 10829, 11854, 12064, 13231, 9296, 12279, 10396, 13538, 8285, 9728, 13712, 14163, 13391, 14272, 10543, 9995, 11649, 10259, 10573, 11589, 14976, 12310, 14867, 15739, 14659, 13834, 14435, 12732, 16012, 15879, 13422, 17790, 17494, 13425, 17271, 15952, 15619, 15849, 13465, 16033, 17039, 13753, 19063, 15322, 15223, 16462, 14537, 19757, 17477, 20652, 16936, 17126, 20963, 17390, 18377, 22083, 17998, 17478, 19471, 19418, 17473, 20926, 23019, 18455, 19386, 18792, 18254, 22699, 19755, 18777, 23232, 19202, 23908, 20634, 20754, 19858, 22611, 25803, 22918, 20661, 21470, 25184, 21891, 24330, 22887, 23474, 23557, 22559, 27121, 23055, 24954, 27354, 24304, 27130, 23627, 28854, 22904, 28452, 24715, 23606, 28609, 25895, 27290, 25085, 27277, 30192, 28759, 27856, 25909, 31189, 30128, 29495, 25910, 28425, 28931, 30806, 28683, 27251, 30833, 29522, 27627, 30512, 27042, 27656, 33078, 31325, 32779, 29928, 33595, 33294, 31082, 31073, 30518, 30220, 29793, 32503, 34666, 32152, 30920, 31570, 36419, 32969, 31197, 31030, 33565, 36567, 35794, 32204, 31728, 36425, 32192, 32017, 34017, 37628, 34973, 33493, 33166, 35008, 37321, 38736, 39438, 36371, 37069, 37928, 40461, 39922, 39112, 38299, 40437, 39683, 38615, 36402, 38713, 40735, 38980, 42414, 40477, 37473, 38639, 42920, 39134, 39235, 41807, 41227, 40543, 43552, 41855, 38587, 44236, 40611, 41036, 40494, 44565, 44348, 45132, 43448, 41668, 45997, 45019, 44619, 44224, 44822, 40768, 43895, 41778, 44668, 44698, 46022, 47326, 42524, 42933, 45358, 45188, 42910, 47862, 48169, 45400, 46368, 47805, 45110, 49119, 46913, 47310, 44518, 44892, 48440, 48298, 48096, 45606, 46956, 46718, 50794, 48812, 47866, 50997, 50674, 50519, 50798, 47350, 46905, 48086, 49530, 49192, 53964, 53323, 52235, 50594, 53083, 50175, 49316, 52693, 49821, 51330, 54023, 51813, 49848, 54175, 56294, 55964, 53648, 54951, 55151, 52564, 51133, 52475, 56443, 53206, 55304, 53606, 52090, 53825, 52730, 58052, 56685, 57015, 56811, 58326, 56532, 54259, 58847, 56560, 58122, 55321, 60167, 58899, 60695, 56733, 56316, 55280, 60284, 57343, 55635, 59265, 58630, 57420, 58948, 57803, 59135, 58828, 60250, 62445, 57384, 59222, 57628, 59497, 60228, 61299, 63487, 59960, 62056, 58815, 59814, 59492, 65535, 65535, 64937, 64039, 62722, 65535, 62573, 62887, 62510, 65535, 61740, 65535, 63891, 61768, 65535, 61824, 64237, 64555, 63707, 64615, 63530, 64915, 61698, 62429, 64166, 62937, 63443, 61792, 65535, 63397, 64416, 62936, 62493, 62235, 62774, 61701, 60683, 61706, 63999, 61076, 64399, 61559, 60985, 59256, 60245, 61554, 59382, 59493, 57624, 60456, 62513, 61823, 62135, 60690, 57399, 57091, 57036, 58352, 59579, 56721, 55660, 56413, 58290, 60636, 60587, 55234, 57810, 57415, 59257, 59514, 53560, 57275, 55747, 58258, 54437, 55859, 56958, 52247, 55635, 56807, 52495, 52606, 52202, 54321, 52224, 52682, 51756, 50844, 55870, 50792, 50970, 52582, 52214, 54868, 54473, 54072, 54438, 55087, 48912, 49648, 51897, 49867, 48114, 50386, 48190, 51080, 51668, 52366, 47675, 52115, 49600, 52259, 47456, 52179, 52138, 46076, 47570, 51725, 45918, 48379, 48402, 49771, 47011, 47632, 49030, 46583, 44516, 47991, 49656, 43979, 49784, 47307, 47386, 43188, 47691, 47727, 44807, 43190, 43839, 42260, 45849, 41435, 47211, 47357, 43562, 40956, 42542, 41173, 46447, 46498, 46437, 44346, 42754, 44343, 44061, 39796, 44353, 40421, 39642, 44369, 39785, 41891, 44124, 37802, 39913, 41398, 43530, 42020, 41897, 42695, 37747, 42632, 41026, 38483, 38142, 38174, 38476, 35885, 37880, 39993, 36484, 36744, 37543, 36154, 39188, 34488, 37196, 35861, 38287, 34334, 36775, 33597, 39184, 37070, 35183, 32468, 35848, 36323, 36441, 36941, 33217, 33406, 35767, 30987, 30945, 32139, 31995, 31322, 35198, 32154, 33094, 32906, 35959, 35289, 34556, 30740, 34364, 28847, 28997, 33983, 30753, 32852, 34080, 34049, 30554, 32037, 29314, 32274, 27465, 30192, 31471, 26658, 28818, 28005, 31666, 29703, 26371, 27768, 28927, 28366, 29584, 29890, 29944, 29755, 24079, 29636, 26439, 24846, 26011, 28676, 27388, 26511, 27743, 24384, 27868, 22429, 26692, 23732, 23510, 24416, 27772, 25096, 25249, 21781, 22430, 23188, 26730, 22486, 23252, 20568, 20078, 23521, 22133, 21492, 24194, 21690, 23454, 23194, 22174, 22586, 23601, 19121, 21653, 21541, 20741, 22587, 19740, 17229, 19811, 17896, 19218, 19676, 20487, 17802, 16574, 17738, 17447, 21252, 15906, 19288, 19907, 17757, 18836, 19867, 16006, 13941, 16914, 17457, 14634, 16130, 18429, 18180, 13138, 15585, 16024, 18191, 15433, 12051, 13565, 14953, 13068, 14507, 17292, 12044, 15337, 12500, 15459, 10872, 12633, 14362, 14592, 10307, 10549, 13450, 13484, 8735, 13694, 13618, 11394, 8476, 8838, 9014, 8518, 12831, 12640, 9324, 11344, 9957, 7704, 7953, 11418, 8721, 11217, 7022, 9317, 8797, 9280, 9481, 7570, 6337, 9715, 5136, 6383, 9167, 6953, 5639, 4821, 8048, 5565, 4860, 3755, 8055, 2477, 6659, 7622, 3422, 3325, 6660, 7819, 2964, 7531, 3507, 7072, 1425, 2426, 2480, 1642, 5556, 2572, 622, 3362, 1832, 2283, 549, 3571, 4910, 4667, 1490, 3422, 3920, 2605, 3099, 3787, 2488, 643, 1258, 236, 1644, 3406, 316, 963, 0, 0, 3689, 2064, 308, 4099, 632, 5016, 362, 5109, 3440, 3669, 6098, 4133, 2332, 3825, 874, 867, 2787, 1132, 3177, 2641, 1959, 5070, 5063, 2759, 6064, 2325, 8060, 5741, 3254, 4162, 3489, 8125, 8742, 4112, 10037, 4888, 7831, 6684, 8148, 8284, 10878, 5618, 10960, 6577, 6084, 11098, 7982, 12015, 9173, 11595, 8922, 11865, 8483, 12042, 13491, 13002, 9733, 13149, 13887, 13838, 10528, 11696, 13775, 12502, 10929, 9911, 10008, 9635, 11186, 10293, 16299, 11816, 12293, 14519, 13517, 14348, 15677, 12595, 14640, 14158, 14245, 15665, 15362, 12077, 13126, 14884, 13494, 14463, 14044, 15905, 13878, 14530, 14629, 15433, 16286, 14438, 15350, 17699, 17711, 16462, 19088, 15842, 16714, 20082, 20550, 20646, 16517, 18498, 18135, 17786, 16998, 18251, 19678, 21302, 18944, 23722, 21127, 23302, 19518, 24093, 22303, 22288, 21971, 22515, 24608, 22759, 24629, 21356, 20299, 23972, 24392, 22010, 26224, 26401, 25294, 26371, 27065, 24106, 24045, 27198, 24088, 25555, 27453, 27624, 27834, 23858, 27428, 24655, 28213, 25977, 28996, 29573, 30105, 24235, 29531, 24880, 24333, 28869, 25241, 25701, 28943, 28703, 26027, 25951, 28592, 28388, 27012, 31123, 31625, 30625, 30143, 32548, 29376, 32316, 27579, 31458, 30516, 29337, 29737, 29480, 32903, 31030, 34492, 32216, 32664, 34537, 34911, 34546, 29903, 34324, 36038, 32684, 34694, 31862, 33372, 36464, 36643, 32581, 32321, 37639, 38088, 37004, 34069, 35268, 34585, 34928, 33589, 38373, 36067, 37667, 35362, 36941, 36638, 39493, 34360, 39137, 36576, 36987, 35244, 36568, 37269, 36405, 41937, 37585, 38682, 42097, 41352, 38972, 42523, 38874, 40177, 40677, 41797, 37586, 40408, 39757, 40128, 40484, 38979, 42795, 43381, 39656, 40585, 39289, 44362, 42279, 40443, 45891, 44076, 41369, 46503, 44517, 42692, 46496, 42062, 44970, 45015, 47575, 44574, 44016, 44159, 46509, 44687, 44175, 42751, 43013, 45769, 44602, 46262, 43985, 46983, 44206, 48370, 45057, 49311, 44484, 50850, 46992, 48999, 49433, 51053, 45517, 49483, 49744, 46211, 51126, 48537, 52899, 52189, 48694, 47737, 53310, 53725, 52373, 50544, 51177, 49155, 50044, 50609, 48911, 51329, 53556, 52408, 54956, 50290, 50562, 52313, 50256, 51011, 55730, 52067, 52365, 56663, 51350, 52846, 57010, 53092, 53744, 53257, 55803, 56732, 54204, 52607, 55745, 57748, 56444, 54236, 55183, 59619, 56609, 56386, 58144, 57940, 56104, 58018, 60263, 55506, 59525, 56211, 58365, 56675, 61426, 58988, 57312, 56135, 57933, 59726, 59608, 61042, 58927, 62408, 58451, 63051, 59617, 63592, 58411, 58376, 60046, 58720, 64180, 61943, 60895, 62113, 64040, 60897, 60839, 63206, 62294, 60832, 61223, 61240, 65535, 64234, 63049, 63607, 64834, 64774, 65535, 63603, 65535, 63880, 65535, 65535, 64081, 64396, 65535, 65535, 62278, 63155, 62967, 64713, 63308, 61075, 63934, 62315, 64952, 59706, 61432, 61946, 61962, 64052, 60753, 59797, 59802, 62343, 59032, 61081, 60610, 63799, 59318, 60572, 63600, 58452, 57070, 60489, 59358, 57157, 60055, 57143, 57057, 55666, 57014, 57736, 56517, 56335, 59627, 59332, 56602, 54508, 54467, 56652, 56817, 56959, 59488, 59648, 59260, 55434, 55935, 58317, 54220, 52476, 57058, 52306, 54007, 52441, 53316, 56936, 55177, 56743, 55769, 50760, 56340, 55132, 56444, 50891, 53057, 53132, 53982, 53444, 54354, 53949, 54354, 52940, 51216, 52570, 51545, 49307, 50484, 51529, 53388, 50702, 49944, 50791, 47158, 51790, 51140, 49254, 49037, 50027, 47914, 48827, 48851, 48651, 46380, 44900, 46225, 49787, 45879, 44218, 46878, 47545, 49964, 46763, 46983, 44596, 45393, 48934, 46307, 45110, 46274, 43924, 46921, 48206, 42242, 43013, 42340, 46701, 43842, 42129, 44754, 42115, 43402, 46184, 40852, 43453, 42449, 44592, 44336, 39320, 43313, 40428, 39002, 43397, 41228, 42856, 39000, 39817, 41048, 42400, 43034, 37173, 38708, 36761, 39192, 39377, 37164, 36919, 38696, 41805, 37666, 39539, 35848, 36119, 39275, 37774, 39051, 35844, 38906, 39268, 38663, 37405, 33635, 38575, 39304, 37883, 33185, 37413, 37732, 32806, 36343, 36169, 38195, 38147, 35913, 33487, 32341, 36925, 31990, 35274, 35968, 30686, 34083, 31355, 34299, 32580, 35646, 31730, 35231, 32358, 32532, 32001, 33127, 34041, 32436, 29337, 31821, 33512, 29833, 30375, 33141, 29014, 30514, 31225, 28525, 26512, 29072, 28499, 27203, 26687, 28819, 26179, 31187, 29513, 28579, 26569, 24950, 26722, 25048, 26953, 25764, 29394, 28569, 24472, 27997, 23988, 25836, 24030, 28035, 26031, 26632, 26313, 22423, 22828, 23138, 27526, 22436, 26359, 21161, 20598, 22967, 25990, 20543, 22030, 22231, 19712, 25421, 24451, 21486, 24326, 24879, 22367, 21327, 22391, 18802, 19723, 23757, 20730, 19330, 21124, 16915, 21531, 18933, 22515, 17446, 16205, 21466, 21114, 19268, 20185, 18588, 17179, 16545, 17371, 15304, 18293, 14814, 20341, 19446, 14546, 17245, 19539, 13253, 17007, 18462, 13673, 14039, 12650, 13551, 13218, 11868, 14235, 15179, 17626, 14123, 12590, 15322, 10707, 16925, 11075, 11557, 10108, 14751, 15776, 9557, 9590, 11411, 9066, 9307, 13812, 10370, 14371, 8607, 14409, 8279, 10142, 7895, 9254, 9828, 12710, 12905, 13105, 10175, 7917, 10621, 11303, 9359, 6536, 9639, 9978, 11380, 10154, 9954, 10584, 5582, 5021, 8366, 7633, 5435, 9502, 7201, 3614, 6696, 8766, 9031, 8317, 6723, 8040, 5177, 3988, 4867, 5258, 3558, 7556, 4857, 5223, 1640, 1885, 3826, 5887, 2098, 2130, 794, 766, 5499, 1233, 1741, 0, 0, 0, 430, 0, 1077, 2401, 1257, 2162, 586, 0, 2686, 1115, 0, 0, 1346, 0, 49, 0, 3094, 2793, 4104, 0, 2384, 2583, 1933, 4593, 433, 4760, 1756, 5658, 5114, 5363, 4380, 3331, 2820, 7072, 1692, 3947, 3859, 1434, 2049, 8029, 3560, 5758, 7714, 6974, 8621, 5851, 5556, 7868, 5762, 7218, 4407, 6240, 4199, 6664, 7107, 9824, 5800, 6465, 5104, 5893, 10076, 10231, 5703, 6536, 11858, 11945, 10437, 9472, 9519, 12255, 7725, 10020, 12770, 8780, 11527, 10255, 8251, 8283, 12718, 9675, 14028, 10251, 14752, 11738, 13561, 15011, 15203, 10906, 13720, 16275, 14728, 16510, 15183, 11837, 14082, 14016, 11394, 13147, 17248, 13779, 14307, 15357, 13263, 15449, 13324, 17551, 15543, 16222, 19801, 15572, 14296, 17625, 16929, 15918, 15491, 16061, 19287, 19692, 15572, 21010, 20999, 18929, 16588, 17934, 20806, 22654, 17444, 22395, 20511, 19764, 23130, 20944, 17754, 23640, 20186, 24083, 20980, 21752, 23133, 22936, 24530, 21668, 21448, 22432, 24688, 21907, 21248, 23877, 25363, 21816, 25940, 21252, 22311, 24597, 25010, 26913, 21636, 22882, 28045, 26535, 28308, 28249, 24727, 27128, 26193, 25914, 23857, 26515, 27514, 24709, 29779, 29269, 25509, 24438, 26135, 30358, 27371, 25637, 25421, 30127, 29301, 26286, 26884, 26535, 29693, 30716, 26738, 29321, 27226, 30857, 33054, 32400, 33658, 32366, 34239, 28961, 31960, 34477, 29616, 34190, 31167, 34308, 29975, 33432, 30614, 31687, 30480, 36403, 30883, 35931, 37055, 34786, 32914, 32290, 31915, 31790, 37636, 33723, 33634, 35120, 32764, 38597, 33615, 36490, 36867, 36561, 34132, 35300, 39092, 35524, 37693, 38700, 39088, 35720, 38432, 35796, 40055, 35486, 35409, 38324, 41457, 36889, 36827, 37955, 40300, 40320, 37966, 41487, 37982, 43731, 41156, 38671, 38807, 38223, 41126, 44316, 42236, 40871, 43191, 43935, 40763, 45475, 42865, 45037, 42031, 44663, 41354, 44083, 44717, 46296, 46346, 44874, 41973, 46994, 43927, 45845, 45802, 43917, 42820, 44330, 48506, 47748, 48712, 47505, 47422, 46058, 48414, 44470, 44204, 44314, 47137, 44945, 49870, 47630, 49094, 47762, 48132, 50548, 49004, 50850, 50673, 47678, 46338, 47964, 52020, 47166, 48929, 50255, 49616, 53439, 49910, 51612, 48007, 52390, 54130, 50946, 54249, 48948, 54045, 54883, 51192, 52169, 53077, 52545, 51147, 50725, 52295, 54378, 52836, 54647, 55615, 55044, 57392, 52475, 55040, 51816, 53006, 58124, 53219, 58852, 57750, 53169, 53838, 53531, 59185, 55701, 55833, 53925, 59842, 56695, 57483, 58062, 59665, 60661, 58912, 61367, 59148, 60140, 59741, 61598, 56789, 58699, 61165, 61638, 61621, 60065, 58217, 60376, 58982, 60407, 57979, 62087, 61207, 62855, 61581, 62917, 62267, 63865, 59459, 62099, 59895, 63054, 63291, 62238, 65310, 65535, 65049, 64117, 65535, 65535, 63543, 63327, 65209, 63726, 63663, 65535, 64847, 62660, 65535, 63727, 62414, 65535, 61670, 63966, 63092, 63366, 65535, 63018, 63924, 65535, 62922, 65535, 61255, 62817, 60477, 63383, 62979, 64437, 63813, 63451, 58531, 59620, 62411, 59644, 63382, 58477, 62522, 63365, 62404, 58100, 56789, 60164, 59256, 57555, 59351, 60638, 56289, 61731, 57723, 55793, 55704, 58040, 55254, 58938, 59206, 57204, 59291, 55966, 57324, 55603, 53436, 58297, 53521, 55803, 58161, 53199, 56201, 56133, 53318, 56214, 55035, 52806, 54136, 52166, 56355, 56222, 55436, 55697, 50417, 55295, 56441, 53863, 50122, 54268, 51640, 55157, 54083, 50914, 52997, 54693, 49097, 53161, 48857, 53369, 48733, 51883, 53105, 51174, 48517, 52651, 46776, 51011, 50349, 52415, 47738, 50031, 51774, 47065, 47881, 49753, 47302, 48677, 48082, 47714, 46834, 49416, 45662, 48734, 44863, 45485, 46335, 47422, 48251, 47757, 44241, 45522, 44044, 45523, 45541, 46513, 41988, 47029, 45050, 43162, 41772, 46764, 41506, 42168, 42326, 44144, 45883, 42532, 40831, 41789, 45015, 43937, 41575, 43324, 43322, 42582, 43766, 41747, 43592, 42672, 43792, 42057, 42337, 41078, 40260, 42417, 37386, 38961, 36710, 36715, 39087, 36914, 38332, 37027, 37111, 39565, 35416, 36036, 39846, 37401, 39759, 35338, 34149, 38153, 38173, 38854, 34949, 36341, 35383, 35267, 33906, 35784, 36787, 33669, 33963, 36223, 33880, 32062, 33746, 31359, 36952, 33985, 30802, 31922, 31957, 30912, 31672, 30147, 31041, 35528, 32301, 29648, 32783, 33823, 28795, 33322, 28566, 30056, 33347, 32057, 31357, 30493, 32550, 29142, 26850, 28937, 26786, 30263, 32347, 26182, 27527, 27265, 30217, 25343, 29492, 28000, 24981, 24935, 25909, 28085, 29652, 29431, 27164, 23663, 24990, 27318, 25210, 27324, 26982, 27880, 22852, 23677, 27222, 25427, 27370, 27564, 22248, 26427, 21025, 26603, 26842, 25373, 22637, 21278, 23733, 24793, 22713, 21461, 20002, 19619, 23279, 24570, 22817, 20464, 21145, 21324, 20773, 19888, 23606, 20796, 21470, 19357, 19778, 22306, 18054, 21873, 17093, 19723, 19381, 16884, 20024, 18151, 19143, 20710, 14939, 21196, 18543, 15222, 15284, 19842, 16759, 18633, 19646, 13424, 15485, 13049, 14192, 15132, 18606, 17608, 13512, 17746, 14566, 16423, 15500, 15646, 15300, 15911, 11174, 13001, 10475, 11001, 10879, 13496, 14253, 12608, 15158, 12072, 11706, 9925, 10332, 14819, 12265, 10227, 9341, 10762, 9090, 11566, 8126, 8075, 11650, 8613, 8641, 10073, 10175, 8758, 8113, 5943, 6272, 8129, 5993, 10924, 10171, 7842, 7128, 8061, 7374, 4452, 8713, 3962, 5574, 7145, 9877, 8180, 7514, 8066, 3138, 8861, 3647, 6365, 7316, 7403, 5083, 2212, 6797, 5540, 3081, 6761, 4755, 650, 504, 3991, 3006, 1635, 2868, 0, 0, 1247, 2988, 4647, 4384, 0, 4224, 0, 2684, 0, 1404, 0, 0, 810, 255, 0, 0, 0, 2065, 541, 0, 2409, 609, 0, 4717, 2934, 2318, 1707, 4059, 2682, 5686, 5491, 1379, 1916, 2159, 5952, 3442, 3607, 1527, 5294, 5355, 1482, 5430, 6955, 3803, 3897, 6764, 4279, 3253, 5157, 7625, 6818, 7643, 3560, 4155, 8862, 5383, 9072, 9150, 9915, 10590, 5783, 8993, 5709, 10258, 8350, 8861, 8007, 9584, 11207, 11775, 7507, 7425, 12645, 12730, 12089, 9195, 9437, 12487, 11542, 11950, 7889, 10615, 9072, 12124, 14195, 14236, 9704, 10313, 15545, 12507, 15065, 12536, 14288, 11320, 11373, 13441, 13004, 17193, 16464, 13235, 14930, 13047, 16164, 16647, 14515, 16198, 13165, 13134, 15068, 14616, 12960, 13156, 15223, 17306, 14732, 14551, 17240, 14439, 17558, 19039, 15391, 18893, 18886, 18482, 17061, 21905, 15706, 18958, 22299, 20831, 22254, 16599, 21148, 20072, 23173, 20274, 20779, 19905, 19386, 18933, 23851, 19626, 20727, 19363, 23688, 20481, 25312, 22440, 21833, 24302, 24197, 22952, 25226, 20686, 24633, 26514, 21810, 26868, 22603, 26520, 27248, 28054, 27403, 27325, 25564, 23435, 23386, 27838, 24704, 28874, 24333, 26233, 27922, 26178, 28033, 24438, 25174, 29591, 27242, 24559, 25313, 30958, 30667, 27326, 30519, 31973, 25807, 29349, 26966, 27625, 27884, 27723, 32256, 27633, 33464, 28735, 28828, 33431, 30279, 29531, 29272, 34423, 30881, 33907, 35120, 34111, 35348, 30792, 30505, 30659, 33200, 32571, 32466, 34123, 34107, 33509, 32416, 34489, 36607, 33518, 32165, 31998, 37441, 33055, 32846, 36747, 38935, 37548, 34764, 34466, 33902, 36690, 33788, 35460, 34360, 35424, 40641, 37298, 39219, 36306, 35355, 35099, 36103, 38693, 39308, 38066, 37403, 41148, 38507, 40453, 39051, 42080, 39544, 42669, 41367, 38411, 41404, 40248, 41544, 40669, 40757, 40953, 42850, 42655, 42607, 43038, 45050, 45722, 42584, 41944, 41546, 41730, 46119, 41637, 41149, 44226, 44791, 42154, 46285, 42892, 44908, 42232, 47927, 48168, 45597, 47960, 45710, 49079, 47474, 44135, 43554, 46788, 43652, 49436, 46356, 45690, 44833, 47742, 48377, 45632, 50358, 48410, 46665, 45981, 50263, 48523, 46962, 48015, 46705, 51556, 50439, 50398, 50409, 47462, 48380, 47541, 50784, 52490, 51399, 50209, 52964, 50187, 51756, 54416, 50072, 52174, 52790, 50749, 51231, 55931, 54990, 53963, 51840, 55034, 53846, 56632, 51351, 53635, 57705, 52970, 57865, 56498, 52133, 55003, 57327, 54871, 55038, 59415, 55310, 53815, 54741, 60091, 57061, 54227, 55316, 56614, 58127, 60642, 58752, 58646, 60629, 60099, 60023, 60913, 61145, 56909, 59177, 57361, 57075, 59184, 57150, 57956, 63518, 61787, 58352, 62527, 63569, 62036, 58985, 60086, 65049, 60047, 65076, 59271, 59323, 61399, 62839, 62008, 63958, 61727, 64704, 65510, 65535, 64667, 62153, 65309, 65535, 65535, 63659, 65535, 65535, 63232, 65535, 63007, 64961, 65535, 65535, 61804, 62248, 63213, 61750, 65535, 65535, 61839, 64038, 65535, 65453, 62303, 63404, 61172, 60229, 61166, 60506, 64556, 65080, 61288, 62457, 63553, 64216, 62507, 61220, 60551, 58515, 59662, 60524, 62644, 60475, 61525, 61768, 59168, 56936, 59450, 60968, 55593, 58621, 57107, 55070, 56336, 55854, 57588, 58887, 60538, 56760, 58288, 59282, 59609, 53618, 56483, 59384, 54903, 57095, 54953, 55951, 57123, 55617, 52861, 55502, 57619, 57629, 56003, 52918, 55207, 51064, 52503, 53495, 52375, 53621, 51919, 53181, 53092, 54204, 54478, 51105, 53613, 54373, 49286, 52095, 50384, 53309, 50636, 53304, 49796, 52699, 53414, 51295, 47706, 50809, 47620, 47889, 46394, 52246, 52024, 48405, 45682, 48046, 47609, 50545, 50037, 47131, 48455, 44075, 49801, 46625, 48720, 46056, 43626, 48520, 45706, 44203, 48369, 45581, 42488, 44481, 46561, 46196, 47115, 45328, 45887, 43006, 44683, 44704, 42105, 46243, 45083, 42640, 45563, 42877, 45450, 42361, 45417, 44207, 42599, 43430, 41680, 44330, 38155, 40979, 40886, 43959, 42992, 37416, 40305, 40412, 38842, 40112, 40744, 37972, 36891, 42333, 39025, 37711, 38250, 40572, 38191, 39931, 34766, 38609, 36268, 40743, 34947, 35002, 38788, 39333, 38609, 35961, 33794, 36507, 36445, 38285, 36962, 37371, 36643, 32707, 35684, 37893, 34481, 36776, 37459, 32932, 33696, 33412, 31108, 34883, 31319, 36393, 31384, 30553, 29894, 30819, 30224, 32667, 32302, 33339, 28447, 32870, 33772, 29744, 31114, 28631, 30044, 27270, 31527, 28327, 26761, 27035, 31074, 32266, 26966, 31252, 31625, 29557, 30449, 29577, 25707, 28105, 26854, 25225, 30237, 25853, 27125, 26243, 23687, 25868, 27272, 23543, 28065, 24455, 23689, 25073, 28352, 22564, 25601, 27904, 24941, 23655, 21931, 21352, 25835, 25674, 26405, 22803, 22087, 21983, 21350, 21353, 26086, 24857, 24098, 19761, 21585, 21881, 20504, 21540, 20384, 22801, 24162, 22426, 18018, 23011, 19812, 18900, 18489, 21775, 23003, 19671, 22103, 16563, 20717, 15966, 19281, 17385, 21062, 20895, 19310, 15451, 15532, 20284, 19021, 15424, 15800, 15720, 15108, 14638, 18389, 15051, 16247, 15080, 15046, 12579, 14389, 12546, 14535, 17555, 14679, 13845, 16228, 16235, 16683, 15485, 11317, 11594, 13602, 15240, 15986, 15120, 14937, 14709, 14965, 13891, 14206, 11870, 10224, 12328, 14011, 8828, 10326, 11416, 12219, 10756, 8748, 7626, 10292, 8457, 10141, 9931, 12282, 11908, 5782, 6515, 10216, 11425, 10383, 8828, 5438, 8112, 9211, 6686, 5138, 6562, 8282, 9059, 4527, 6602, 6640, 3179, 5278, 6052, 7988, 3655, 5122, 5617, 2626, 3417, 2165, 3237, 2911, 1223, 4495, 5220, 5992, 4238, 3417, 614, 5263, 1002, 0, 745, 793, 1582, 321, 0, 890, 0, 943, 2036, 0, 0, 580, 1435, 2040, 0, 0, 0, 1348, 0, 3864, 0, 0, 162, 22, 0, 2451, 1135, 0, 0, 3648, 5861, 2649, 5382, 752, 1288, 3917, 920, 1133, 977, 2864, 1395, 7703, 7626, 6719, 6180, 7551, 6136, 6155, 5795, 5145, 7344, 7695, 5347, 8829, 6526, 4810, 5677, 4260, 8862, 7535, 8320, 9837, 9788, 9476, 5508, 11606, 7020, 6517, 10842, 7722, 6799, 7310, 12334, 12825, 10083, 7550, 13376, 10019, 12029, 11486, 11389, 9095, 9157, 11162, 14175, 11834, 12467, 13303, 11398, 13909, 13857, 13852, 11546, 15091, 14560, 16608, 12302, 12489, 16875, 11338, 13320, 12106, 12320, 17314, 16961, 12829, 15002, 16729, 17923, 18808, 14963, 17281, 15415, 18881, 15484, 18218, 19494, 16733, 17193, 16487, 16429, 15050, 18352, 20679, 18501, 17963, 18360, 19902, 22186, 21713, 16736, 22049, 17084, 21722, 21662, 18594, 18353, 23224, 23699, 20332, 19493, 22960, 23512, 23988, 24535, 21888, 20823, 22988, 19733, 21608, 22840, 23261, 22759, 26296, 21187, 24346, 26779, 24695, 24539, 22507, 21756, 22124, 25063, 28332, 27428, 22559, 28556, 27528, 27394, 26901, 25308, 24474, 28183, 25038, 28702, 28140, 27990, 25645, 26246, 27079, 30672, 29215, 25998, 26782, 31738, 30113, 26829, 31581, 27959, 28073, 29856, 31238, 28794, 32470, 32884, 28848, 27538, 33027, 31339, 29439, 30675, 31546, 34556, 31377, 31870, 33547, 35352, 32552, 32407, 30140, 30408, 33865, 36626, 31880, 34287, 33024, 32560, 32062, 34864, 34763, 34711, 32780, 35185, 37627, 36577, 38572, 36949, 35298, 32985, 36401, 36643, 35284, 33651, 37031, 36382, 39547, 35894, 35791, 36583, 38011, 39578, 41407, 40919, 36935, 41483, 36508, 39004, 38342, 36464, 42169, 39923, 39248, 40905, 43337, 42978, 43281, 43622, 43288, 39695, 40213, 41061, 40483, 39963, 40057, 42756, 40294, 44247, 42647, 40470, 44773, 46421, 46506, 43432, 42676, 45390, 46242, 46245, 41693, 47206, 42680, 42587, 48278, 45060, 42933, 43764, 47951, 48592, 43138, 46088, 47892, 46422, 47128, 45436, 47874, 45215, 49639, 45442, 49119, 48364, 46419, 51446, 49743, 46711, 49096, 49929, 49130, 49170, 50509, 48723, 50968, 51324, 51215, 48705, 53581, 48732, 48453, 47820, 49784, 51358, 53657, 48812, 52346, 51397, 49050, 50385, 54186, 51539, 52396, 52261, 53587, 52634, 53825, 53636, 56436, 51822, 56671, 51851, 54562, 52518, 56273, 57355, 56276, 52538, 56522, 53954, 54884, 53848, 53785, 55239, 54614, 54556, 54872, 57185, 58154, 57192, 57558, 56366, 54901, 57350
};

int get_feature_data(size_t offset, size_t length, float *out_ptr) {
    memcpy(out_ptr, features + offset, length * sizeof(float));
    return 0;
}
/* USER CODE END Includes */

/* Private typedef -----------------------------------------------------------*/
/* USER CODE BEGIN PTD */

/* USER CODE END PTD */

/* Private define ------------------------------------------------------------*/
/* USER CODE BEGIN PD */

/* USER CODE END PD */

/* Private macro -------------------------------------------------------------*/
/* USER CODE BEGIN PM */

/* USER CODE END PM */

/* Private variables ---------------------------------------------------------*/

UART_HandleTypeDef huart1;

/* USER CODE BEGIN PV */

/* USER CODE END PV */

/* Private function prototypes -----------------------------------------------*/
void SystemClock_Config(void);
static void MX_GPIO_Init(void);
static void MX_USART1_UART_Init(void);
/* USER CODE BEGIN PFP */

/* USER CODE END PFP */

/* Private user code ---------------------------------------------------------*/
/* USER CODE BEGIN 0 */
#include <stdarg.h>
#include "edge-impulse-sdk/classifier/ei_run_classifier.h"

void vprint(const char *fmt, va_list argp)
{
    char string[200];
    if(0 < vsprintf(string, fmt, argp)) // build string
    {
        HAL_UART_Transmit(&huart1, (uint8_t*)string, strlen(string), 180); // send message via UART
    }
}

void ei_printf(const char *format, ...) {
    va_list myargs;
    va_start(myargs, format);
    vprint(format, myargs);
    va_end(myargs);
}
/* USER CODE END 0 */

/**
  * @brief  The application entry point.
  * @retval int
  */
int main(void)
{
  /* USER CODE BEGIN 1 */

  /* USER CODE END 1 */

  /* MCU Configuration--------------------------------------------------------*/

  /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
  HAL_Init();

  /* USER CODE BEGIN Init */
  signal_t signal;
  signal.total_length = sizeof(features) / sizeof(features[0]);
  signal.get_data = &get_feature_data;
  /* USER CODE END Init */

  /* Configure the system clock */
  SystemClock_Config();

  /* USER CODE BEGIN SysInit */

  /* USER CODE END SysInit */

  /* Initialize all configured peripherals */
  MX_GPIO_Init();
  MX_USART1_UART_Init();
  /* USER CODE BEGIN 2 */

  /* USER CODE END 2 */

  /* Infinite loop */
  /* USER CODE BEGIN WHILE */
  while (1)
  {
    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
	  ei_impulse_result_t result = { 0 };
	        EI_IMPULSE_ERROR res = run_classifier(&signal, &result, true);
	        ei_printf("run_classifier returned: %d\n", res);

	        ei_printf("Predictions (DSP: %d ms., Classification: %d ms., Anomaly: %d ms.): \n",
	            result.timing.dsp, result.timing.classification, result.timing.anomaly);

	        // print the predictions
	        ei_printf("[");
	        for (size_t ix = 0; ix < EI_CLASSIFIER_LABEL_COUNT; ix++) {
	      	  ei_printf_float(result.classification[ix].value);
	    #if EI_CLASSIFIER_HAS_ANOMALY == 1
	            ei_printf(", ");
	    #else
	            if (ix != EI_CLASSIFIER_LABEL_COUNT - 1) {
	                ei_printf(", ");
	            }
	    #endif
	        }
	    #if EI_CLASSIFIER_HAS_ANOMALY == 1
	        ei_printf_float(result.anomaly);
	    #endif
	        ei_printf("]\n\n\n");

	      HAL_Delay(5000);
  }
  /* USER CODE END 3 */
}

/**
  * @brief System Clock Configuration
  * @retval None
  */
void SystemClock_Config(void)
{
  RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};

  /** Configure the main internal regulator output voltage
  */
  __HAL_RCC_PWR_CLK_ENABLE();
  __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE2);

  /** Initializes the RCC Oscillators according to the specified parameters
  * in the RCC_OscInitTypeDef structure.
  */
  RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI;
  RCC_OscInitStruct.HSIState = RCC_HSI_ON;
  RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
  RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
  RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSI;
  RCC_OscInitStruct.PLL.PLLM = 10;
  RCC_OscInitStruct.PLL.PLLN = 210;
  RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV2;
  RCC_OscInitStruct.PLL.PLLQ = 2;
  if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
  {
    Error_Handler();
  }

  /** Initializes the CPU, AHB and APB buses clocks
  */
  RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK|RCC_CLOCKTYPE_SYSCLK
                              |RCC_CLOCKTYPE_PCLK1|RCC_CLOCKTYPE_PCLK2;
  RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
  RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
  RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV4;
  RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV2;

  if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_5) != HAL_OK)
  {
    Error_Handler();
  }
}

/**
  * @brief USART1 Initialization Function
  * @param None
  * @retval None
  */
static void MX_USART1_UART_Init(void)
{

  /* USER CODE BEGIN USART1_Init 0 */

  /* USER CODE END USART1_Init 0 */

  /* USER CODE BEGIN USART1_Init 1 */

  /* USER CODE END USART1_Init 1 */
  huart1.Instance = USART1;
  huart1.Init.BaudRate = 115200;
  huart1.Init.WordLength = UART_WORDLENGTH_8B;
  huart1.Init.StopBits = UART_STOPBITS_1;
  huart1.Init.Parity = UART_PARITY_NONE;
  huart1.Init.Mode = UART_MODE_TX_RX;
  huart1.Init.HwFlowCtl = UART_HWCONTROL_NONE;
  huart1.Init.OverSampling = UART_OVERSAMPLING_16;
  huart1.Init.OneBitSampling = UART_ONE_BIT_SAMPLE_DISABLE;
  huart1.AdvancedInit.AdvFeatureInit = UART_ADVFEATURE_NO_INIT;
  if (HAL_UART_Init(&huart1) != HAL_OK)
  {
    Error_Handler();
  }
  /* USER CODE BEGIN USART1_Init 2 */

  /* USER CODE END USART1_Init 2 */

}

/**
  * @brief GPIO Initialization Function
  * @param None
  * @retval None
  */
static void MX_GPIO_Init(void)
{
  GPIO_InitTypeDef GPIO_InitStruct = {0};
/* USER CODE BEGIN MX_GPIO_Init_1 */
/* USER CODE END MX_GPIO_Init_1 */

  /* GPIO Ports Clock Enable */
  __HAL_RCC_GPIOE_CLK_ENABLE();
  __HAL_RCC_GPIOG_CLK_ENABLE();
  __HAL_RCC_GPIOB_CLK_ENABLE();
  __HAL_RCC_GPIOD_CLK_ENABLE();
  __HAL_RCC_GPIOC_CLK_ENABLE();
  __HAL_RCC_GPIOA_CLK_ENABLE();
  __HAL_RCC_GPIOJ_CLK_ENABLE();
  __HAL_RCC_GPIOI_CLK_ENABLE();
  __HAL_RCC_GPIOK_CLK_ENABLE();
  __HAL_RCC_GPIOF_CLK_ENABLE();
  __HAL_RCC_GPIOH_CLK_ENABLE();

  /*Configure GPIO pin Output Level */
  HAL_GPIO_WritePin(OTG_FS_PowerSwitchOn_GPIO_Port, OTG_FS_PowerSwitchOn_Pin, GPIO_PIN_SET);

  /*Configure GPIO pin Output Level */
  HAL_GPIO_WritePin(GPIOI, ARDUINO_D7_Pin|ARDUINO_D8_Pin|LCD_DISP_Pin, GPIO_PIN_RESET);

  /*Configure GPIO pin Output Level */
  HAL_GPIO_WritePin(LCD_BL_CTRL_GPIO_Port, LCD_BL_CTRL_Pin, GPIO_PIN_RESET);

  /*Configure GPIO pin Output Level */
  HAL_GPIO_WritePin(DCMI_PWR_EN_GPIO_Port, DCMI_PWR_EN_Pin, GPIO_PIN_RESET);

  /*Configure GPIO pin Output Level */
  HAL_GPIO_WritePin(GPIOG, ARDUINO_D4_Pin|ARDUINO_D2_Pin|EXT_RST_Pin, GPIO_PIN_RESET);

  /*Configure GPIO pin : LCD_B0_Pin */
  GPIO_InitStruct.Pin = LCD_B0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF14_LTDC;
  HAL_GPIO_Init(LCD_B0_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : OTG_HS_OverCurrent_Pin */
  GPIO_InitStruct.Pin = OTG_HS_OverCurrent_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(OTG_HS_OverCurrent_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : QSPI_D2_Pin */
  GPIO_InitStruct.Pin = QSPI_D2_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF9_QUADSPI;
  HAL_GPIO_Init(QSPI_D2_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : RMII_TXD1_Pin RMII_TXD0_Pin RMII_TX_EN_Pin */
  GPIO_InitStruct.Pin = RMII_TXD1_Pin|RMII_TXD0_Pin|RMII_TX_EN_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF11_ETH;
  HAL_GPIO_Init(GPIOG, &GPIO_InitStruct);

  /*Configure GPIO pins : FMC_NBL1_Pin FMC_NBL0_Pin FMC_D5_Pin FMC_D6_Pin
                           FMC_D8_Pin FMC_D11_Pin FMC_D4_Pin FMC_D7_Pin
                           FMC_D9_Pin FMC_D12_Pin FMC_D10_Pin */
  GPIO_InitStruct.Pin = FMC_NBL1_Pin|FMC_NBL0_Pin|FMC_D5_Pin|FMC_D6_Pin
                          |FMC_D8_Pin|FMC_D11_Pin|FMC_D4_Pin|FMC_D7_Pin
                          |FMC_D9_Pin|FMC_D12_Pin|FMC_D10_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF12_FMC;
  HAL_GPIO_Init(GPIOE, &GPIO_InitStruct);

  /*Configure GPIO pins : ARDUINO_SCL_D15_Pin ARDUINO_SDA_D14_Pin */
  GPIO_InitStruct.Pin = ARDUINO_SCL_D15_Pin|ARDUINO_SDA_D14_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF4_I2C1;
  HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);

  /*Configure GPIO pins : ULPI_D7_Pin ULPI_D6_Pin ULPI_D5_Pin ULPI_D3_Pin
                           ULPI_D2_Pin ULPI_D1_Pin ULPI_D4_Pin */
  GPIO_InitStruct.Pin = ULPI_D7_Pin|ULPI_D6_Pin|ULPI_D5_Pin|ULPI_D3_Pin
                          |ULPI_D2_Pin|ULPI_D1_Pin|ULPI_D4_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF10_OTG_HS;
  HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);

  /*Configure GPIO pin : ARDUINO_PWM_D3_Pin */
  GPIO_InitStruct.Pin = ARDUINO_PWM_D3_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF2_TIM3;
  HAL_GPIO_Init(ARDUINO_PWM_D3_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : SPDIF_RX0_Pin */
  GPIO_InitStruct.Pin = SPDIF_RX0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF8_SPDIFRX;
  HAL_GPIO_Init(SPDIF_RX0_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : SDMMC_CK_Pin SDMMC_D3_Pin SDMMC_D2_Pin PC9
                           PC8 */
  GPIO_InitStruct.Pin = SDMMC_CK_Pin|SDMMC_D3_Pin|SDMMC_D2_Pin|GPIO_PIN_9
                          |GPIO_PIN_8;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF12_SDMMC1;
  HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);

  /*Configure GPIO pin : ARDUINO_PWM_D9_Pin */
  GPIO_InitStruct.Pin = ARDUINO_PWM_D9_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF1_TIM2;
  HAL_GPIO_Init(ARDUINO_PWM_D9_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : DCMI_D6_Pin DCMI_D7_Pin */
  GPIO_InitStruct.Pin = DCMI_D6_Pin|DCMI_D7_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF13_DCMI;
  HAL_GPIO_Init(GPIOE, &GPIO_InitStruct);

  /*Configure GPIO pin : QSPI_NCS_Pin */
  GPIO_InitStruct.Pin = QSPI_NCS_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF10_QUADSPI;
  HAL_GPIO_Init(QSPI_NCS_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : FMC_SDNCAS_Pin FMC_SDCLK_Pin FMC_A11_Pin FMC_A10_Pin
                           FMC_BA1_Pin FMC_BA0_Pin */
  GPIO_InitStruct.Pin = FMC_SDNCAS_Pin|FMC_SDCLK_Pin|FMC_A11_Pin|FMC_A10_Pin
                          |FMC_BA1_Pin|FMC_BA0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF12_FMC;
  HAL_GPIO_Init(GPIOG, &GPIO_InitStruct);

  /*Configure GPIO pins : LCD_B1_Pin LCD_B2_Pin LCD_B3_Pin LCD_G4_Pin
                           LCD_G1_Pin LCD_G3_Pin LCD_G0_Pin LCD_G2_Pin
                           LCD_R7_Pin LCD_R5_Pin LCD_R6_Pin LCD_R4_Pin
                           LCD_R3_Pin LCD_R1_Pin LCD_R2_Pin */
  GPIO_InitStruct.Pin = LCD_B1_Pin|LCD_B2_Pin|LCD_B3_Pin|LCD_G4_Pin
                          |LCD_G1_Pin|LCD_G3_Pin|LCD_G0_Pin|LCD_G2_Pin
                          |LCD_R7_Pin|LCD_R5_Pin|LCD_R6_Pin|LCD_R4_Pin
                          |LCD_R3_Pin|LCD_R1_Pin|LCD_R2_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF14_LTDC;
  HAL_GPIO_Init(GPIOJ, &GPIO_InitStruct);

  /*Configure GPIO pin : OTG_FS_VBUS_Pin */
  GPIO_InitStruct.Pin = OTG_FS_VBUS_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(OTG_FS_VBUS_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : Audio_INT_Pin */
  GPIO_InitStruct.Pin = Audio_INT_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_EVT_RISING;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(Audio_INT_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : FMC_D2_Pin FMC_D3_Pin FMC_D1_Pin FMC_D15_Pin
                           FMC_D0_Pin FMC_D14_Pin FMC_D13_Pin */
  GPIO_InitStruct.Pin = FMC_D2_Pin|FMC_D3_Pin|FMC_D1_Pin|FMC_D15_Pin
                          |FMC_D0_Pin|FMC_D14_Pin|FMC_D13_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF12_FMC;
  HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);

  /*Configure GPIO pins : OTG_FS_P_Pin OTG_FS_N_Pin OTG_FS_ID_Pin */
  GPIO_InitStruct.Pin = OTG_FS_P_Pin|OTG_FS_N_Pin|OTG_FS_ID_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF10_OTG_FS;
  HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);

  /*Configure GPIO pins : SAI2_MCLKA_Pin SAI2_SCKA_Pin SAI2_FSA_Pin SAI2_SDA_Pin */
  GPIO_InitStruct.Pin = SAI2_MCLKA_Pin|SAI2_SCKA_Pin|SAI2_FSA_Pin|SAI2_SDA_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF10_SAI2;
  HAL_GPIO_Init(GPIOI, &GPIO_InitStruct);

  /*Configure GPIO pins : LCD_DE_Pin LCD_B7_Pin LCD_B6_Pin LCD_B5_Pin
                           LCD_G6_Pin LCD_G7_Pin LCD_G5_Pin */
  GPIO_InitStruct.Pin = LCD_DE_Pin|LCD_B7_Pin|LCD_B6_Pin|LCD_B5_Pin
                          |LCD_G6_Pin|LCD_G7_Pin|LCD_G5_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF14_LTDC;
  HAL_GPIO_Init(GPIOK, &GPIO_InitStruct);

  /*Configure GPIO pin : LCD_B4_Pin */
  GPIO_InitStruct.Pin = LCD_B4_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF9_LTDC;
  HAL_GPIO_Init(LCD_B4_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : SAI2_SDB_Pin */
  GPIO_InitStruct.Pin = SAI2_SDB_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF10_SAI2;
  HAL_GPIO_Init(SAI2_SDB_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : OTG_FS_PowerSwitchOn_Pin */
  GPIO_InitStruct.Pin = OTG_FS_PowerSwitchOn_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  HAL_GPIO_Init(OTG_FS_PowerSwitchOn_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : DCMI_D5_Pin */
  GPIO_InitStruct.Pin = DCMI_D5_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF13_DCMI;
  HAL_GPIO_Init(DCMI_D5_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : ARDUINO_D7_Pin ARDUINO_D8_Pin LCD_DISP_Pin */
  GPIO_InitStruct.Pin = ARDUINO_D7_Pin|ARDUINO_D8_Pin|LCD_DISP_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  HAL_GPIO_Init(GPIOI, &GPIO_InitStruct);

  /*Configure GPIO pin : uSD_Detect_Pin */
  GPIO_InitStruct.Pin = uSD_Detect_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(uSD_Detect_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : FMC_A0_Pin FMC_A1_Pin FMC_A2_Pin FMC_A3_Pin
                           FMC_A4_Pin FMC_A5_Pin FMC_A6_Pin FMC_A9_Pin
                           FMC_A7_Pin FMC_A8_Pin FMC_SDNRAS_Pin */
  GPIO_InitStruct.Pin = FMC_A0_Pin|FMC_A1_Pin|FMC_A2_Pin|FMC_A3_Pin
                          |FMC_A4_Pin|FMC_A5_Pin|FMC_A6_Pin|FMC_A9_Pin
                          |FMC_A7_Pin|FMC_A8_Pin|FMC_SDNRAS_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF12_FMC;
  HAL_GPIO_Init(GPIOF, &GPIO_InitStruct);

  /*Configure GPIO pins : LCD_HSYNC_Pin LCD_VSYNC_Pin LCD_R0_Pin LCD_CLK_Pin */
  GPIO_InitStruct.Pin = LCD_HSYNC_Pin|LCD_VSYNC_Pin|LCD_R0_Pin|LCD_CLK_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF14_LTDC;
  HAL_GPIO_Init(GPIOI, &GPIO_InitStruct);

  /*Configure GPIO pin : LCD_BL_CTRL_Pin */
  GPIO_InitStruct.Pin = LCD_BL_CTRL_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  HAL_GPIO_Init(LCD_BL_CTRL_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : DCMI_VSYNC_Pin */
  GPIO_InitStruct.Pin = DCMI_VSYNC_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF13_DCMI;
  HAL_GPIO_Init(DCMI_VSYNC_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : OTG_FS_OverCurrent_Pin */
  GPIO_InitStruct.Pin = OTG_FS_OverCurrent_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(OTG_FS_OverCurrent_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : SDMMC_D0_Pin */
  GPIO_InitStruct.Pin = SDMMC_D0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF12_SDMMC1;
  HAL_GPIO_Init(SDMMC_D0_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : TP3_Pin NC2_Pin */
  GPIO_InitStruct.Pin = TP3_Pin|NC2_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(GPIOH, &GPIO_InitStruct);

  /*Configure GPIO pin : ARDUINO_SCK_D13_Pin */
  GPIO_InitStruct.Pin = ARDUINO_SCK_D13_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
  HAL_GPIO_Init(ARDUINO_SCK_D13_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : DCMI_PWR_EN_Pin */
  GPIO_InitStruct.Pin = DCMI_PWR_EN_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  HAL_GPIO_Init(DCMI_PWR_EN_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : DCMI_D4_Pin DCMI_D3_Pin DCMI_D0_Pin DCMI_D2_Pin
                           DCMI_D1_Pin */
  GPIO_InitStruct.Pin = DCMI_D4_Pin|DCMI_D3_Pin|DCMI_D0_Pin|DCMI_D2_Pin
                          |DCMI_D1_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF13_DCMI;
  HAL_GPIO_Init(GPIOH, &GPIO_InitStruct);

  /*Configure GPIO pin : ARDUINO_PWM_CS_D5_Pin */
  GPIO_InitStruct.Pin = ARDUINO_PWM_CS_D5_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF2_TIM5;
  HAL_GPIO_Init(ARDUINO_PWM_CS_D5_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : ARDUINO_PWM_D10_Pin */
  GPIO_InitStruct.Pin = ARDUINO_PWM_D10_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF1_TIM1;
  HAL_GPIO_Init(ARDUINO_PWM_D10_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pin : LCD_INT_Pin */
  GPIO_InitStruct.Pin = LCD_INT_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_EVT_RISING;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(LCD_INT_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : ARDUINO_RX_D0_Pin ARDUINO_TX_D1_Pin */
  GPIO_InitStruct.Pin = ARDUINO_RX_D0_Pin|ARDUINO_TX_D1_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF8_USART6;
  HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);

  /*Configure GPIO pin : ULPI_NXT_Pin */
  GPIO_InitStruct.Pin = ULPI_NXT_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF10_OTG_HS;
  HAL_GPIO_Init(ULPI_NXT_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : FMC_SDNME_Pin FMC_SDNE0_Pin */
  GPIO_InitStruct.Pin = FMC_SDNME_Pin|FMC_SDNE0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF12_FMC;
  HAL_GPIO_Init(GPIOH, &GPIO_InitStruct);

  /*Configure GPIO pins : ARDUINO_D4_Pin ARDUINO_D2_Pin EXT_RST_Pin */
  GPIO_InitStruct.Pin = ARDUINO_D4_Pin|ARDUINO_D2_Pin|EXT_RST_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  HAL_GPIO_Init(GPIOG, &GPIO_InitStruct);

  /*Configure GPIO pins : ARDUINO_A4_Pin ARDUINO_A5_Pin ARDUINO_A1_Pin ARDUINO_A2_Pin
                           ARDUINO_A3_Pin */
  GPIO_InitStruct.Pin = ARDUINO_A4_Pin|ARDUINO_A5_Pin|ARDUINO_A1_Pin|ARDUINO_A2_Pin
                          |ARDUINO_A3_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(GPIOF, &GPIO_InitStruct);

  /*Configure GPIO pin : FMC_SDCKE0_Pin */
  GPIO_InitStruct.Pin = FMC_SDCKE0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF12_FMC;
  HAL_GPIO_Init(FMC_SDCKE0_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : ULPI_STP_Pin ULPI_DIR_Pin */
  GPIO_InitStruct.Pin = ULPI_STP_Pin|ULPI_DIR_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF10_OTG_HS;
  HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);

  /*Configure GPIO pins : RMII_MDC_Pin RMII_RXD0_Pin RMII_RXD1_Pin */
  GPIO_InitStruct.Pin = RMII_MDC_Pin|RMII_RXD0_Pin|RMII_RXD1_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF11_ETH;
  HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);

  /*Configure GPIO pin : PB2 */
  GPIO_InitStruct.Pin = GPIO_PIN_2;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF9_QUADSPI;
  HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);

  /*Configure GPIO pins : QSPI_D1_Pin QSPI_D3_Pin QSPI_D0_Pin */
  GPIO_InitStruct.Pin = QSPI_D1_Pin|QSPI_D3_Pin|QSPI_D0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF9_QUADSPI;
  HAL_GPIO_Init(GPIOD, &GPIO_InitStruct);

  /*Configure GPIO pin : RMII_RXER_Pin */
  GPIO_InitStruct.Pin = RMII_RXER_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_INPUT;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(RMII_RXER_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : RMII_REF_CLK_Pin RMII_MDIO_Pin RMII_CRS_DV_Pin */
  GPIO_InitStruct.Pin = RMII_REF_CLK_Pin|RMII_MDIO_Pin|RMII_CRS_DV_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF11_ETH;
  HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);

  /*Configure GPIO pin : ARDUINO_A0_Pin */
  GPIO_InitStruct.Pin = ARDUINO_A0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  HAL_GPIO_Init(ARDUINO_A0_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : DCMI_HSYNC_Pin PA6 */
  GPIO_InitStruct.Pin = DCMI_HSYNC_Pin|GPIO_PIN_6;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF13_DCMI;
  HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);

  /*Configure GPIO pins : LCD_SCL_Pin LCD_SDA_Pin */
  GPIO_InitStruct.Pin = LCD_SCL_Pin|LCD_SDA_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF4_I2C3;
  HAL_GPIO_Init(GPIOH, &GPIO_InitStruct);

  /*Configure GPIO pins : ULPI_CLK_Pin ULPI_D0_Pin */
  GPIO_InitStruct.Pin = ULPI_CLK_Pin|ULPI_D0_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  GPIO_InitStruct.Alternate = GPIO_AF10_OTG_HS;
  HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);

  /*Configure GPIO pin : ARDUINO_PWM_D6_Pin */
  GPIO_InitStruct.Pin = ARDUINO_PWM_D6_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF9_TIM12;
  HAL_GPIO_Init(ARDUINO_PWM_D6_GPIO_Port, &GPIO_InitStruct);

  /*Configure GPIO pins : ARDUINO_MISO_D12_Pin ARDUINO_MOSI_PWM_D11_Pin */
  GPIO_InitStruct.Pin = ARDUINO_MISO_D12_Pin|ARDUINO_MOSI_PWM_D11_Pin;
  GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
  GPIO_InitStruct.Pull = GPIO_NOPULL;
  GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  GPIO_InitStruct.Alternate = GPIO_AF5_SPI2;
  HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);

/* USER CODE BEGIN MX_GPIO_Init_2 */
/* USER CODE END MX_GPIO_Init_2 */
}

/* USER CODE BEGIN 4 */

/* USER CODE END 4 */

/**
  * @brief  This function is executed in case of error occurrence.
  * @retval None
  */
void Error_Handler(void)
{
  /* USER CODE BEGIN Error_Handler_Debug */
  /* User can add his own implementation to report the HAL error return state */
  __disable_irq();
  while (1)
  {
  }
  /* USER CODE END Error_Handler_Debug */
}

#ifdef  USE_FULL_ASSERT
/**
  * @brief  Reports the name of the source file and the source line number
  *         where the assert_param error has occurred.
  * @param  file: pointer to the source file name
  * @param  line: assert_param error line source number
  * @retval None
  */
void assert_failed(uint8_t *file, uint32_t line)
{
  /* USER CODE BEGIN 6 */
  /* User can add his own implementation to report the file name and line number,
     ex: printf("Wrong parameters value: file %s on line %d\r\n", file, line) */
  /* USER CODE END 6 */
}
#endif /* USE_FULL_ASSERT */
